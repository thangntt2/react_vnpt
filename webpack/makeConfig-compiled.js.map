{"version":3,"sources":["makeConfig.js"],"names":[],"mappings":"AAAA;;;;;;;;AAEA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,oBAAoB,QAAQ,qBAAR,CAAxB;;AAEA,SAAS,iBAAT,CAA4B,OAA5B,EAAqC;AACnC,MAAI,cAAJ;AAAA,MAAW,gBAAX;AAAA,MAAoB,gBAApB;;AAEA,MAAI,QAAQ,IAAZ,EAAkB;AAChB,YAAQ,CACN,KAAK,OAAL,CAAa,SAAb,EAAwB,iBAAxB,CADM,CAAR;;AAIA,cAAU,CACR,IAAI,QAAQ,QAAR,CAAiB,cAArB,CAAoC;AAClC,gBAAU;AACR,kBAAU;AADF;AADwB,KAApC,CADQ,EAMR,IAAI,iBAAJ,CAAsB;AACpB,gBAAU,YADU;AAEpB,cAAQ;AACN,wBAAgB,IADV;AAEN,4BAAoB,IAFd;AAGN,mCAA2B,IAHrB;AAIN,yBAAiB,IAJX;AAKN,+BAAuB,IALjB;AAMN,uCAA+B,IANzB;AAON,0BAAkB,IAPZ;AAQN,kBAAU,IARJ;AASN,mBAAW,IATL;AAUN,oBAAY;AAVN;AAFY,KAAtB,CANQ,EAqBR,IAAI,QAAQ,YAAZ,CAAyB;AACvB,qBAAe;AACb,kBAAU,yBAAe,YAAf;AADG;AADQ,KAAzB,CArBQ,CAAV;AA2BD,GAhCD,MAgCO;AACL,cAAU,uBAAV;;AAEA,YAAQ,CACN,iDADM,EAEN,6BAFM,EAGN,KAAK,OAAL,CAAa,SAAb,EAAwB,iBAAxB,CAHM,CAAR;;AAMA,cAAU,CACR,IAAI,QAAQ,0BAAZ,EADQ,EAER,IAAI,iBAAJ,CAAsB;AACpB,gBAAU;AADU,KAAtB,CAFQ,CAAV;AAMD;;AAED,SAAO;AACL,aAAS,OADJ;AAEL,WAAO,KAFF;AAGL,YAAQ,EAAE;AACR,YAAM,KAAK,OAAL,CAAa,SAAb,EAAwB,KAAxB,EAA+B,OAA/B,CADA;AAEN,gBAAU,cAFJ;AAGN,kBAAY;AAHN,KAHH;AAQL,aAAS;AACP,kBAAY,CAAC,EAAD,EAAK,aAAL,EAAoB,SAApB,EAA+B,KAA/B,CADL;AAEP,cAAQ,CAAC,cAAD,EAAiB,KAAjB,CAFD;AAGP,aAAO;AACL,4BAAoB,KAAK,IAAL,CAAU,SAAV,EAAqB,oDAArB;AADf;AAHA,KARJ;AAeL,YAAQ;AACN,eAAS,CACP;AACE,cAAM,OADR,EACiB;AACf,gBAAQ,OAFV,EAEmB;AACjB,iBAAS,KAAK,IAAL,CAAU,SAAV,EAAqB,KAArB,EAA4B,gBAA5B,CAHX,CAGyD;AAHzD,OADO,EAKJ;AACD,cAAM,QADL,EACe;AAChB,iBAAS,CAAC,cAAD,EAAiB,YAAjB,EAA+B,gBAA/B,CAFR,CAEyD;AAFzD,OALI,EAQH;AACF,cAAM,SADJ;AAEF,gBAAQ;AAFN,OARG;AADH,KAfH;AA8BL,UAAM;AACJ,eAAS,IADL;AAEJ,UAAI,OAFA;AAGJ,WAAK,OAHD;AAIJ,WAAK;AAJD,KA9BD;AAoCL,aAAS,OApCJ;AAqCL,aAAS,mBAAY;AACnB,aAAO,CACL,QAAQ,gBAAR,EAA0B;AACxB,kBAAU,UAAU,KAAV,EAAiB;AACzB,gBAAM,OAAN,CAAc,KAAK,aAAnB;AACD,SAFS,CAER,IAFQ,CAEH,IAFG;AADc,OAA1B,CADK,EAML,QAAQ,qBAAR,GANK,EAOL,QAAQ,eAAR,GAPK,EAQL,QAAQ,MAAR,GARK,EASL,QAAQ,cAAR,EAAwB;AACtB,kBAAU,CAAC,iBAAD,EAAoB,QAApB;AADY,OAAxB,CATK,EAYL,QAAQ,kBAAR,EAA4B;AAC1B,uBAAe;AADW,OAA5B,CAZK,CAAP;AAgBD,KAtDI;AAuDL,YAAQ,KAvDH;AAwDL,WAAO,KAxDF;AAyDL,cAAU;AAzDL,GAAP;AA2DD;;AAED,OAAO,OAAP,GAAiB,iBAAjB","file":"makeConfig-compiled.js","sourcesContent":["'use strict'\n\nlet path = require('path')\nlet webpack = require('webpack')\nlet HtmlWebpackPlugin = require('html-webpack-plugin')\n\nfunction makeWebpackConfig (options) {\n  let entry, plugins, devtool\n\n  if (options.prod) {\n    entry = [\n      path.resolve(__dirname, '../app/index.js')\n    ]\n\n    plugins = [\n      new webpack.optimize.UglifyJsPlugin({\n        compress: {\n          warnings: false\n        }\n      }),\n      new HtmlWebpackPlugin({\n        template: 'index.html',\n        minify: {\n          removeComments: true,\n          collapseWhitespace: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeStyleLinkTypeAttributes: true,\n          keepClosingSlash: true,\n          minifyJS: true,\n          minifyCSS: true,\n          minifyURLs: true\n        }\n      }),\n      new webpack.DefinePlugin({\n        'process.env': {\n          NODE_ENV: JSON.stringify('production')\n        }\n      })\n    ]\n  } else {\n    devtool = 'cheap-eval-source-map'\n\n    entry = [\n      'webpack-dev-server/client?http://localhost:3000',\n      'webpack/hot/only-dev-server',\n      path.resolve(__dirname, '../app/index.js')\n    ]\n\n    plugins = [\n      new webpack.HotModuleReplacementPlugin(),\n      new HtmlWebpackPlugin({\n        template: 'index.html'\n      })\n    ]\n  }\n\n  return {\n    devtool: devtool,\n    entry: entry,\n    output: { // Compile into `js/build.js`\n      path: path.resolve(__dirname, '../', 'build'),\n      filename: 'js/bundle.js',\n      publicPath: '/',\n    },\n    resolve: {\n      extensions: ['', '.webpack.js', '.web.js', '.js'],\n      module: ['node_modules', 'src'],\n      alias: {\n        'react-select-css': path.join(__dirname, '../node_modules/react-select/dist/react-select.css')\n      }\n    },\n    module: {\n      loaders: [\n        {\n          test: /\\.js$/, // Transform all .js files required somewhere within an entry point...\n          loader: 'babel', // ...with the specified loaders...\n          exclude: path.join(__dirname, '../', '/node_modules/') // ...except for the node_modules folder.\n        }, {\n          test: /\\.css$/, // Transform all .css files required somewhere within an entry point...\n          loaders: ['style-loader', 'css-loader', 'postcss-loader'] // ...with PostCSS\n        },  {\n          test: /\\.json$/,\n          loader: 'json'\n        }\n      ]\n    },\n    node: {\n      console: true,\n      fs: 'empty',\n      net: \"empty\",\n      tls: 'empty',\n    },\n    plugins: plugins,\n    postcss: function () {\n      return [\n        require('postcss-import')({\n          onImport: function (files) {\n            files.forEach(this.addDependency)\n          }.bind(this)\n        }),\n        require('postcss-simple-vars')(),\n        require('postcss-focus')(),\n        require('lost')(),\n        require('autoprefixer')({\n          browsers: ['last 2 versions', 'IE > 8']\n        }),\n        require('postcss-reporter')({\n          clearMessages: true\n        })\n      ]\n    },\n    target: 'web',\n    stats: false,\n    progress: true\n  }\n}\n\nmodule.exports = makeWebpackConfig\n"]}